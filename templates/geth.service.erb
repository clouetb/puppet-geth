[Unit]
Description=Go Ethereum client
Wants=basic.target
After=basic.target network.target

[Service]
WorkingDirectory=/home/geth
User=geth
ExecStart=nohup geth 	--datadir "<%= datadir %>" \
						--identity "<%= identity %>" \
						--networkid "<%= networkid %>" \
						<% if nodiscover %> --nodiscover <% end %> \
						--password <%= geth::config::passfile %> \
						--unlock "<%= unlock %>" \
						--port "<%= port %>"  \
						<%= if rpc %> --rpc <% end %> \
						--rpcaddr "<%= rpcaddr %>" \
						--rpcport "<%= rpcport %>" \
						--rpcapi "<%= rpcapi %>" \
						--rpccorsdomain "<%= rpccorsdomain %>" \
						<% if mine %> --mine <% end %>\
						--minerthreads "<%= minerthreads %>" \
						<% if autodag %> --autodag <% end %> \
						--nat "<%= nat %>" \
						--maxpeers "<%= maxpeers %>" \
						2>> <%= geth::config::logdir %>/geth.log 
Type=simple

[Install]
WantedBy=default.target
